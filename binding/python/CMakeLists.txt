find_package(Boost COMPONENTS python REQUIRED)
find_package(PythonLibs 2.7 REQUIRED)

include_directories("${PROJECT_SOURCE_DIR}/src")
include_directories(${Boost_INCLUDE_DIRS})
include_directories(${PYTHON_INCLUDE_DIRS})

add_library(MPController SHARED MPController.cpp)
target_link_libraries(MPController ${Boost_LIBRARIES} ${PRJECT_NAME})
PKG_CONFIG_USE_DEPENDENCY(MPController eigen-qld)
PKG_CONFIG_USE_DEPENDENCY(MPController eigen-quadprog)
if(${EIGEN_LSSOL_FOUND})
    PKG_CONFIG_USE_DEPENDENCY(MPController eigen-lssol)
    add_definitions(-DLSSOL_SOLVER_FOUND)
endif()
set_target_properties(MPController PROPERTIES PREFIX "")